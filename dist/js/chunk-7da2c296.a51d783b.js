(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7da2c296"],{"00b4":function(e,t,c){"use strict";c("ac1f");var s=c("23e7"),n=c("da84"),a=c("c65b"),l=c("e330"),r=c("1626"),o=c("861d"),i=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=n.Error,b=l(/./.test);s({target:"RegExp",proto:!0,forced:!i},{test:function(e){var t=this.exec;if(!r(t))return b(this,e);var c=a(t,this,e);if(null!==c&&!o(c))throw new u("RegExp exec method returned something other than an Object or null");return!!c}})},"0b42":function(e,t,c){var s=c("da84"),n=c("e8b5"),a=c("68ee"),l=c("861d"),r=c("b622"),o=r("species"),i=s.Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,a(t)&&(t===i||n(t.prototype))?t=void 0:l(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?i:t}},"1dde":function(e,t,c){var s=c("d039"),n=c("b622"),a=c("2d00"),l=n("species");e.exports=function(e){return a>=51||!s((function(){var t=[],c=t.constructor={};return c[l]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,c){var s=c("0b42");e.exports=function(e,t){return new(s(e))(0===t?0:t)}},8418:function(e,t,c){"use strict";var s=c("a04b"),n=c("9bf2"),a=c("5c6c");e.exports=function(e,t,c){var l=s(t);l in e?n.f(e,l,a(0,c)):e[l]=c}},"99af":function(e,t,c){"use strict";var s=c("23e7"),n=c("da84"),a=c("d039"),l=c("e8b5"),r=c("861d"),o=c("7b0b"),i=c("07fa"),u=c("8418"),b=c("65f0"),h=c("1dde"),d=c("b622"),p=c("2d00"),j=d("isConcatSpreadable"),O=9007199254740991,f="Maximum allowed index exceeded",m=n.TypeError,v=p>=51||!a((function(){var e=[];return e[j]=!1,e.concat()[0]!==e})),g=h("concat"),k=function(e){if(!r(e))return!1;var t=e[j];return void 0!==t?!!t:l(e)},_=!v||!g;s({target:"Array",proto:!0,forced:_},{concat:function(e){var t,c,s,n,a,l=o(this),r=b(l,0),h=0;for(t=-1,s=arguments.length;t<s;t++)if(a=-1===t?l:arguments[t],k(a)){if(n=i(a),h+n>O)throw m(f);for(c=0;c<n;c++,h++)c in a&&u(r,h,a[c])}else{if(h>=O)throw m(f);u(r,h++,a)}return r.length=h,r}})},b0c0:function(e,t,c){var s=c("83ab"),n=c("5e77").EXISTS,a=c("e330"),l=c("9bf2").f,r=Function.prototype,o=a(r.toString),i=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=a(i.exec),b="name";s&&!n&&l(r,b,{configurable:!0,get:function(){try{return u(i,o(this))[1]}catch(e){return""}}})},ce7b:function(e,t,c){"use strict";c.r(t);c("b0c0");var s=c("7a23"),n={class:"contentWrap"},a={class:"wrap cartWrap d-sp"},l=Object(s["h"])("ul",{class:"cart_menu"},[Object(s["h"])("li",null,"購物清單"),Object(s["h"])("li",{class:"active"},"填寫資料"),Object(s["h"])("li",null,"確認訂單"),Object(s["h"])("li",null,"完成購物")],-1),r={class:"shopWrap"},o=Object(s["h"])("h2",null,"填寫資料",-1),i=Object(s["h"])("h3",{class:"shopTitle"},"商品資訊",-1),u={class:"shop_orderlist"},b={class:"shopItem_img"},h=["src"],d={class:"shopItem_name"},p=Object(s["h"])("div",{class:"shopItem_size"},[Object(s["h"])("p",null,"尺寸"),Object(s["h"])("span",null,"F")],-1),j={class:"shopItem_qty"},O=Object(s["h"])("p",null,"數量",-1),f={key:0,class:"shopItem_price"},m=Object(s["h"])("p",null,"單價",-1),v={class:"pdbox_price-origin"},g={class:"pdbox_price-sale"},k={key:1,class:"shopItem_price"},_=Object(s["h"])("p",null,"單價",-1),x={class:"shopItem_total"},y=Object(s["h"])("p",null,"小計",-1),$={class:"shop_cost"},L=Object(s["h"])("h3",null,"折扣碼/購物總金額",-1),w={class:"shop_costbox"},C={class:"shop_discountbox"},I={class:"shop_discount_code"},V=Object(s["h"])("p",null,"請輸入折扣碼：",-1),T=Object(s["h"])("div",{class:"shop_note"},[Object(s["h"])("p",null,"單筆訂單限抵一張折價券。")],-1),N={class:"shop_count"},A=Object(s["h"])("p",null,"小計",-1),U=Object(s["h"])("p",null,"折扣折抵",-1),B={class:"shop_minus"},E=Object(s["h"])("div",null,[Object(s["h"])("p",null,"運費"),Object(s["h"])("span",null,"NT$80")],-1),S={class:"shop_total"},q=Object(s["h"])("p",null,"總計",-1),P={key:0,class:"text-success"},F=Object(s["h"])("h3",{class:"shopTitle"},"填寫運送資料",-1),W={class:"shop_sendinfo"},J={class:"recipientBox"},M={class:"shopinfoBox d-sp"},R={class:"shopinfoBox_name"},z=Object(s["h"])("p",null,[Object(s["j"])("收件人姓名"),Object(s["h"])("sup",null,"*")],-1),G={class:"shopinfoBox_tel"},X=Object(s["h"])("p",null,[Object(s["j"])("收件人電話"),Object(s["h"])("sup",null,"*")],-1),D={class:"shopinfoBox"},H=Object(s["h"])("p",{class:"font-N"},[Object(s["j"])("E-mail"),Object(s["h"])("sup",null,"*")],-1),K={class:"shopinfoBox"},Q=Object(s["h"])("p",null,[Object(s["j"])("地址"),Object(s["h"])("sup",null,"*")],-1),Y={class:"shopinfoBox"},Z=Object(s["h"])("p",null,"備註",-1),ee=Object(s["h"])("h3",{class:"shopTitle"},"購物須知",-1),te={class:"cart_note"},ce=Object(s["h"])("p",null,"※ 商品加入購物車但未完成結帳前並無保留商品庫存功能，商品庫存分配將以結帳順序為依據。",-1),se=Object(s["h"])("p",null,"※ 選擇門市取貨付款，包裹送達後隔日下午會簡訊通知領取。",-1),ne=Object(s["h"])("p",null,"※ 當包裹出貨完成未被領取或拒收退回(出貨後7日計算)，該訂購帳號若達三次將無法使用此配送方式。",-1),ae=Object(s["h"])("p",null,"※ 國內配送時間約2-3個工作天，若您遲遲未收到商品，請盡速與客服連絡。",-1),le=Object(s["h"])("p",null,"※ 提醒您，若您無故或惡意違反制定訂購與退貨相關規則，本公司有權暫停您的帳號並拒絕您使用本服務，同時列為交易黑名單，請您留意。",-1),re={class:"form-check"},oe=Object(s["h"])("label",{class:"form-check-label ml-6",for:"formCheck"},[Object(s["j"])(" 我已閱讀並同意網站的 條款與條件 "),Object(s["h"])("sup",null,"*")],-1),ie={class:"footer_fixed"},ue={class:"wrap d-sp"},be=Object(s["h"])("input",{type:"button",value:"上一步"},null,-1),he=Object(s["j"])("總計: "),de=Object(s["h"])("div",{class:"btn_next_white"},[Object(s["h"])("input",{type:"submit",value:"下一步"})],-1);function pe(e,t,c,pe,je,Oe){var fe=Object(s["I"])("Field"),me=Object(s["I"])("error-message"),ve=Object(s["I"])("ErrorMessage"),ge=Object(s["I"])("router-link"),ke=Object(s["I"])("Form");return Object(s["A"])(),Object(s["g"])("div",n,[Object(s["k"])(ke,{onSubmit:Oe.createOrder},{default:Object(s["U"])((function(c){var n=c.errors;return[Object(s["h"])("div",a,[l,Object(s["h"])("div",r,[o,i,Object(s["h"])("div",u,[(Object(s["A"])(!0),Object(s["g"])(s["a"],null,Object(s["G"])(je.carts.carts,(function(t){return Object(s["A"])(),Object(s["g"])("div",{class:"shopItem",key:t.id},[Object(s["h"])("div",b,[Object(s["h"])("img",{src:"".concat(t.product.imageUrl)},null,8,h)]),Object(s["h"])("div",d,[Object(s["h"])("p",null,Object(s["L"])(t.product.title),1)]),p,Object(s["h"])("div",j,[O,Object(s["h"])("span",null,Object(s["L"])(t.qty),1)]),t.product.origin_price!==t.product.price?(Object(s["A"])(),Object(s["g"])("div",f,[m,Object(s["h"])("span",v,"NT$ "+Object(s["L"])(e.$filters.currency(t.product.origin_price)),1),Object(s["h"])("span",g,"NT$ "+Object(s["L"])(e.$filters.currency(t.product.price)),1)])):(Object(s["A"])(),Object(s["g"])("div",k,[_,Object(s["h"])("span",null,"NT$ "+Object(s["L"])(e.$filters.currency(t.product.price)),1)])),Object(s["h"])("div",x,[y,Object(s["h"])("span",null,"NT$ "+Object(s["L"])(e.$filters.currency(t.final_total)),1)])])})),128))]),Object(s["h"])("div",$,[L,Object(s["h"])("div",w,[Object(s["h"])("div",C,[Object(s["h"])("div",I,[V,Object(s["V"])(Object(s["h"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return je.couponCode=e})},null,512),[[s["P"],je.couponCode]]),Object(s["h"])("a",{type:"button",class:"btn_black",onClick:t[1]||(t[1]=Object(s["W"])((function(e){return Oe.useCoupon()}),["prevent"]))},"套用"),T])]),Object(s["h"])("div",N,[Object(s["h"])("div",null,[A,Object(s["h"])("span",null,"NT$ "+Object(s["L"])(e.$filters.currency(je.carts.total)),1)]),Object(s["h"])("div",null,[U,Object(s["h"])("span",B,"NT$ "+Object(s["L"])(e.$filters.currency(je.carts.total-je.carts.final_total)),1)]),E,Object(s["h"])("div",S,[q,Object(s["h"])("span",null,"NT$ "+Object(s["L"])(e.$filters.currency(je.carts.final_total)),1),je.carts.total!==je.carts.final_total?(Object(s["A"])(),Object(s["g"])("span",P,"(已套用優惠券)")):Object(s["f"])("",!0)])])])]),F,Object(s["h"])("div",W,[Object(s["h"])("div",J,[Object(s["h"])("div",M,[Object(s["h"])("div",R,[z,Object(s["k"])(fe,{name:"姓名",type:"text",class:Object(s["s"])({"is-invalid":n["姓名"]}),placeholder:"請輸入收件者姓名",rules:"required",modelValue:je.form.user.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return je.form.user.name=e})},null,8,["class","modelValue"]),Object(s["k"])(me,{name:"姓名",class:"invalid-feedback"})]),Object(s["h"])("div",G,[X,Object(s["k"])(fe,{name:"聯絡電話",type:"tel",class:Object(s["s"])({"is-invalid":n["聯絡電話"]}),placeholder:"請輸入聯絡電話",rules:Oe.isPhoneNumber,modelValue:je.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return je.form.user.tel=e})},null,8,["class","rules","modelValue"]),Object(s["k"])(me,{name:"聯絡電話",class:"invalid-feedback"})])]),Object(s["h"])("div",D,[H,Object(s["k"])(fe,{name:"email",type:"email",class:Object(s["s"])({"is-invalid":n["email"]}),placeholder:"請輸入Email",rules:"required|email",modelValue:je.form.user.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return je.form.user.email=e})},null,8,["class","modelValue"]),Object(s["k"])(me,{name:"email",class:"invalid-feedback"})]),Object(s["h"])("div",K,[Q,Object(s["k"])(fe,{name:"地址",type:"text",class:Object(s["s"])({"is-invalid":n["地址"]}),placeholder:"請輸入地址",rules:"required",modelValue:je.form.user.address,"onUpdate:modelValue":t[5]||(t[5]=function(e){return je.form.user.address=e})},null,8,["class","modelValue"]),Object(s["k"])(me,{name:"地址",class:"invalid-feedback"})]),Object(s["h"])("div",Y,[Z,Object(s["h"])("div",null,[Object(s["V"])(Object(s["h"])("textarea",{rows:"2","onUpdate:modelValue":t[6]||(t[6]=function(e){return je.form.message=e})},null,512),[[s["P"],je.form.message]])])])])]),ee,Object(s["h"])("div",te,[ce,se,ne,ae,le,Object(s["h"])("div",re,[Object(s["k"])(fe,{id:"formCheck",name:"check",type:"checkbox",class:Object(s["s"])({"is-invalid":n["check"]}),value:"checked",rules:Oe.isChecked},null,8,["class","rules"]),oe,Object(s["k"])(ve,{name:"check",class:"invalid-feedback"})])])])]),Object(s["h"])("div",ie,[Object(s["h"])("div",ue,[Object(s["k"])(ge,{to:"/cart",class:"btn_pre_white"},{default:Object(s["U"])((function(){return[be]})),_:1}),Object(s["h"])("div",null,[Object(s["h"])("h3",null,[he,Object(s["h"])("span",null,"NT$ "+Object(s["L"])(e.$filters.currency(je.carts.final_total)),1)])]),de])])]})),_:1},8,["onSubmit"])])}c("99af"),c("ac1f"),c("00b4");var je={data:function(){return{carts:[],tempProduct:{},isLoading:!1,couponCode:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},inject:["emitter"],methods:{getCartList:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("hermosa","/cart");this.$http.get(t).then((function(t){e.isLoading=!1,t.data.success&&(e.carts=t.data.data)}))},useCoupon:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("hermosa","/coupon"),c={code:this.couponCode};this.$http.post(t,{data:c}).then((function(t){e.isLoading=!1,e.couponCode="",console.log(t),e.getCartList()}))},isPhoneNumber:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"請輸入正確的電話號碼"},isChecked:function(e){return!(!e||!e.length)||"請勾選同意網站的條款與條件"},createOrder:function(){var e=this;this.isLoading=!0;var t=this.form;this.$http.post("".concat("https://vue3-course-api.hexschool.io/","api/").concat("hermosa","/order"),{data:t}).then((function(t){e.isLoading=!1,console.log(t.data),t.data.success?(e.emitter.emit("push-message",{type:"success",message:t.data.message}),e.$router.push({name:"checkout",params:{orderId:t.data.orderId}})):e.emitter.emit("push-message",{type:"danger",message:t.data.message})})).catch((function(){e.emitter.emit("push-message",{type:"danger",message:"發生錯誤，請重新整理頁面"})}))}},created:function(){this.getCartList()}},Oe=c("6b0d"),fe=c.n(Oe);const me=fe()(je,[["render",pe]]);t["default"]=me},e8b5:function(e,t,c){var s=c("c6b6");e.exports=Array.isArray||function(e){return"Array"==s(e)}}}]);
//# sourceMappingURL=chunk-7da2c296.a51d783b.js.map