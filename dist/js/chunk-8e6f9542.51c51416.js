(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8e6f9542"],{"26a0":function(t,e,c){t.exports=c.p+"img/delete.6df6e3fc.svg"},"76db":function(t,e,c){"use strict";c.r(e);var n=c("7a23"),a=c("26a0"),o=c.n(a),r={class:"contentWrap"},i={class:"wrap cartWrap"},l={class:"cart_top"},s=Object(n["h"])("ul",{class:"cart_menu"},[Object(n["h"])("li",{class:"active"},"購物清單"),Object(n["h"])("li",null,"填寫資料"),Object(n["h"])("li",null,"確認訂單"),Object(n["h"])("li",null,"完成購物")],-1),u=Object(n["h"])("h2",null,"購物清單",-1),d={class:"cart_buyinglist"},b={key:0},h={href:"product.html"},p=["src"],j={href:"#"},O={class:"pdbox_name"},f={class:"pdcnt_table"},g=Object(n["h"])("thead",null,[Object(n["h"])("tr",null,[Object(n["h"])("th",null,"SIZE"),Object(n["h"])("th",null,"QUANTITY"),Object(n["h"])("td",null,"Price")])],-1),v=Object(n["h"])("td",{class:"pdcnt_info_size"},"F ",-1),m={class:"pdcnt_info_number"},_={class:"position-relative"},y=["onClick"],k=["onUpdate:modelValue","onChange"],L=["onClick"],C={key:0},x={class:"pdbox_price-sale"},$={class:"pdbox_price-origin"},w={key:1},M={class:"d-sp"},A={class:"pdcnt_price"},P=["onClick"],q=Object(n["h"])("img",{src:o.a,alt:""},null,-1),I=[q],D={key:1,class:"cart_nothing"},T={class:"footer_fixed"},U={class:"wrap d-sp"},W=Object(n["j"])("繼續購物"),N=Object(n["j"])("總計: "),V=Object(n["j"])("下一步");function J(t,e,c,a,o,q){var J=Object(n["I"])("Loading"),S=Object(n["I"])("DelModal"),z=Object(n["I"])("router-link");return Object(n["A"])(),Object(n["g"])(n["a"],null,[Object(n["k"])(J,{active:o.isLoading},null,8,["active"]),Object(n["h"])("div",r,[Object(n["h"])("div",i,[Object(n["h"])("div",l,[s,Object(n["h"])("div",null,[u,Object(n["h"])("a",{class:"btn btn-outline-secondary",onClick:e[0]||(e[0]=Object(n["W"])((function(t){return q.openDelModal()}),["prevent"]))},"清空購物車")])]),Object(n["h"])("div",d,[0!==o.carts.total?(Object(n["A"])(),Object(n["g"])("form",b,[(Object(n["A"])(!0),Object(n["g"])(n["a"],null,Object(n["G"])(o.carts.carts,(function(e){return Object(n["A"])(),Object(n["g"])("div",{class:"cart_pdbox pdbox",key:e.id},[Object(n["h"])("a",h,[Object(n["h"])("img",{src:"".concat(e.product.imageUrl)},null,8,p)]),Object(n["h"])("a",j,[Object(n["h"])("p",O,Object(n["L"])(e.product.title),1)]),Object(n["h"])("table",f,[g,Object(n["h"])("tbody",null,[Object(n["h"])("tr",null,[v,Object(n["h"])("td",m,[Object(n["h"])("div",_,[Object(n["h"])("button",{class:"text-dark qty-minus",type:"button",onClick:Object(n["W"])((function(t){return q.updateCart(e,e.qty-1)}),["prevent"])}," - ",8,y),Object(n["V"])(Object(n["h"])("input",{class:"text-center w-25 border-0 bg-transparent",type:"number",min:"1","onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return q.updateCart(e,e.qty)}},null,40,k),[[n["P"],e.qty,void 0,{number:!0}]]),Object(n["h"])("button",{type:"button",class:"text-dark qty-plus",onClick:Object(n["W"])((function(t){return q.updateCart(e,e.qty+1)}),["prevent"])}," + ",8,L)])]),e.product.price!==e.product.origin_price?(Object(n["A"])(),Object(n["g"])("td",C,[Object(n["h"])("span",x,Object(n["L"])(t.$filters.currency(e.product.price)),1),Object(n["h"])("span",$,Object(n["L"])(t.$filters.currency(e.product.origin_price)),1)])):(Object(n["A"])(),Object(n["g"])("td",w,Object(n["L"])(t.$filters.currency(e.product.price)),1))])])]),Object(n["h"])("div",M,[Object(n["h"])("p",A,"Total: NT$"+Object(n["L"])(t.$filters.currency(e.final_total)),1),Object(n["h"])("a",{href:"javascript:void(0)",class:"pdcnt_trash",onClick:Object(n["W"])((function(t){return q.openDelModal(e)}),["prevent"])},I,8,P)])])})),128))])):(Object(n["A"])(),Object(n["g"])("div",D,"您的購物車目前是空的！")),Object(n["k"])(S,{ref:"delModal",onDelProduct:q.delITem,delItem:o.tempProduct},null,8,["onDelProduct","delItem"])])]),Object(n["h"])("div",T,[Object(n["h"])("div",U,[Object(n["k"])(z,{to:{name:"productlist",query:{category:"ALL"}},class:"btn_pre_white"},{default:Object(n["U"])((function(){return[W]})),_:1}),Object(n["h"])("div",null,[Object(n["h"])("h3",null,[N,Object(n["h"])("span",null,"NT$"+Object(n["L"])(t.$filters.currency(o.carts.final_total)),1)])]),Object(n["h"])("div",null,[o.carts.total>0?(Object(n["A"])(),Object(n["e"])(z,{key:0,to:"/check",class:"btn_next_white"},{default:Object(n["U"])((function(){return[V]})),_:1})):Object(n["f"])("",!0)])])])])],64)}var S=c("5530"),z=(c("99af"),c("6ff1")),E={data:function(){return{carts:[],tempProduct:{},isLoading:!1}},components:{DelModal:z["a"]},inject:["emitter"],methods:{getCartList:function(t){var e=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io/","api/").concat("hermosa","/cart");this.$http.get(c).then((function(t){e.isLoading=!1,t.data.success&&(e.carts=t.data.data),console.log(e.carts),console.log(t)}))},updateCart:function(t,e){var c=this;this.isLoading=!0;var n="".concat("https://vue3-course-api.hexschool.io/","api/").concat("hermosa","/cart/").concat(t.id),a={product_id:t.product_id,qty:e};this.$http.put(n,{data:a}).then((function(t){c.isLoading=!1,c.getCartList()}))},openDelModal:function(t){this.tempProduct=Object(S["a"])({},t),this.$refs.delModal.showModal(),console.log(this.tempProduct)},delITem:function(){var t=this;this.isLoading=!0;var e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("hermosa","/carts");console.log(e),this.tempProduct.length>0&&(e="".concat("https://vue3-course-api.hexschool.io/","api/").concat("hermosa","/cart/").concat(this.tempProduct.id)),this.$http.delete(e).then((function(e){t.isLoading=!1;var c=t.$refs.delModal;c.hideModal(),t.$httpMessageState(e,"移除購物車品項"),t.getCartList()}))}},created:function(){this.getCartList()},mounted:function(){},updated:function(){}},F=c("6b0d"),G=c.n(F);const Q=G()(E,[["render",J]]);e["default"]=Q}}]);
//# sourceMappingURL=chunk-8e6f9542.51c51416.js.map