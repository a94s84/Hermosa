(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a49b0"],{"06c7":function(e,t,c){"use strict";c.r(t);c("b0c0");var l=c("7a23"),a={class:"contentWrap"},o={class:"wrap cartWrap d-sp"},n=Object(l["createElementVNode"])("ul",{class:"cart-menu"},[Object(l["createElementVNode"])("li",null,"購物清單"),Object(l["createElementVNode"])("li",{class:"active"},"填寫資料"),Object(l["createElementVNode"])("li",null,"確認訂單"),Object(l["createElementVNode"])("li",null,"完成購物")],-1),s={class:"shopWrap"},r=Object(l["createElementVNode"])("h2",null,"填寫資料",-1),d=Object(l["createElementVNode"])("h3",{class:"shopTitle"},"商品資訊",-1),i={class:"shop-orderlist"},u={class:"shopItem-img"},m=["src","alt"],b={class:"shopItem-name"},p=Object(l["createElementVNode"])("div",{class:"shopItem_size"},[Object(l["createElementVNode"])("p",null,"尺寸"),Object(l["createElementVNode"])("span",null,"F")],-1),O={class:"shopItem_qty"},j=Object(l["createElementVNode"])("p",null,"數量",-1),V={key:0,class:"shopItem-price"},N=Object(l["createElementVNode"])("p",null,"單價",-1),h={class:"pdbox-price-origin"},E={class:"pdbox-price-sale"},f={key:1,class:"shopItem-price"},v=Object(l["createElementVNode"])("p",null,"單價",-1),g={class:"shopItem_total"},k=Object(l["createElementVNode"])("p",null,"小計",-1),y={class:"shop-cost"},x=Object(l["createElementVNode"])("h3",null,"折扣碼/購物總金額",-1),C={class:"shop-costbox"},$={class:"shop-discountbox"},T={class:"shop-discount-code"},B=Object(l["createElementVNode"])("p",null,"請輸入折扣碼：",-1),w=Object(l["createElementVNode"])("div",{class:"shop-note"},[Object(l["createElementVNode"])("p",null,"單筆訂單限抵一張折價券。")],-1),L={class:"shop-count"},D=Object(l["createElementVNode"])("p",null,"小計",-1),S=Object(l["createElementVNode"])("p",null,"折扣折抵",-1),_={class:"shop-minus"},I=Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("p",null,"運費"),Object(l["createElementVNode"])("span",null,"NT$80")],-1),M={class:"shop-total"},U=Object(l["createElementVNode"])("p",null,"總計",-1),z={key:0,class:"text-success"},q=Object(l["createElementVNode"])("h3",{class:"shopTitle"},"填寫運送資料",-1),F={class:"shop-sendinfo"},P={class:"recipientBox"},W={class:"shopinfoBox d-sp"},J={class:"shopinfoBox-name"},A=Object(l["createElementVNode"])("p",null,[Object(l["createTextVNode"])("收件人姓名"),Object(l["createElementVNode"])("sup",null,"*")],-1),G={class:"shopinfoBox-tel"},H=Object(l["createElementVNode"])("p",null,[Object(l["createTextVNode"])("收件人電話"),Object(l["createElementVNode"])("sup",null,"*")],-1),K={class:"shopinfoBox"},Q=Object(l["createElementVNode"])("p",{class:"font-N"},[Object(l["createTextVNode"])("E-mail"),Object(l["createElementVNode"])("sup",null,"*")],-1),R={class:"shopinfoBox"},X=Object(l["createElementVNode"])("p",null,[Object(l["createTextVNode"])("地址"),Object(l["createElementVNode"])("sup",null,"*")],-1),Y={class:"shopinfoBox"},Z=Object(l["createElementVNode"])("p",null,"備註",-1),ee=Object(l["createElementVNode"])("h3",{class:"shopTitle"},"購物須知",-1),te={class:"cart-note"},ce=Object(l["createElementVNode"])("p",null," ※ 商品加入購物車但未完成結帳前並無保留商品庫存功能，商品庫存分配將以結帳順序為依據。 ",-1),le=Object(l["createElementVNode"])("p",null,"※ 選擇門市取貨付款，包裹送達後隔日下午會簡訊通知領取。",-1),ae=Object(l["createElementVNode"])("p",null," ※ 當包裹出貨完成未被領取或拒收退回(出貨後7日計算)，該訂購帳號若達三次將無法使用此配送方式。 ",-1),oe=Object(l["createElementVNode"])("p",null," ※ 國內配送時間約2-3個工作天，若您遲遲未收到商品，請盡速與客服連絡。 ",-1),ne=Object(l["createElementVNode"])("p",null," ※ 提醒您，若您無故或惡意違反制定訂購與退貨相關規則，本公司有權暫停您的帳號並拒絕您使用本服務，同時列為交易黑名單，請您留意。 ",-1),se={class:"form-check"},re=Object(l["createElementVNode"])("label",{class:"form-check-label ml-6",for:"formCheck"},[Object(l["createTextVNode"])(" 我已閱讀並同意網站的 條款與條件 "),Object(l["createElementVNode"])("sup",null,"*")],-1),de={class:"footer-fixed"},ie={class:"wrap d-sp"},ue=Object(l["createElementVNode"])("input",{type:"button",value:"上一步"},null,-1),me=Object(l["createTextVNode"])(" 總計: "),be=Object(l["createElementVNode"])("div",{class:"btn-next-white"},[Object(l["createElementVNode"])("input",{type:"submit",value:"下一步"})],-1);function pe(e,t,c,pe,Oe,je){var Ve=Object(l["resolveComponent"])("Field"),Ne=Object(l["resolveComponent"])("ErrorMessage"),he=Object(l["resolveComponent"])("router-link"),Ee=Object(l["resolveComponent"])("Form");return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",a,[Object(l["createVNode"])(Ee,{onSubmit:je.createOrder},{default:Object(l["withCtx"])((function(c){var a=c.errors;return[Object(l["createElementVNode"])("div",o,[n,Object(l["createElementVNode"])("div",s,[r,d,Object(l["createElementVNode"])("div",i,[(Object(l["openBlock"])(!0),Object(l["createElementBlock"])(l["Fragment"],null,Object(l["renderList"])(Oe.carts.carts,(function(t){return Object(l["openBlock"])(),Object(l["createElementBlock"])("div",{class:"shopItem",key:t.id},[Object(l["createElementVNode"])("div",u,[Object(l["createElementVNode"])("img",{src:"".concat(t.product.imageUrl),alt:t.product.title},null,8,m)]),Object(l["createElementVNode"])("div",b,[Object(l["createElementVNode"])("p",null,Object(l["toDisplayString"])(t.product.title),1)]),p,Object(l["createElementVNode"])("div",O,[j,Object(l["createElementVNode"])("span",null,Object(l["toDisplayString"])(t.qty),1)]),t.product.origin_price!==t.product.price?(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",V,[N,Object(l["createElementVNode"])("span",h,"NT$ "+Object(l["toDisplayString"])(e.$filters.currency(t.product.origin_price)),1),Object(l["createElementVNode"])("span",E,"NT$ "+Object(l["toDisplayString"])(e.$filters.currency(t.product.price)),1)])):(Object(l["openBlock"])(),Object(l["createElementBlock"])("div",f,[v,Object(l["createElementVNode"])("span",null,"NT$ "+Object(l["toDisplayString"])(e.$filters.currency(t.product.price)),1)])),Object(l["createElementVNode"])("div",g,[k,Object(l["createElementVNode"])("span",null,"NT$ "+Object(l["toDisplayString"])(e.$filters.currency(t.final_total)),1)])])})),128))]),Object(l["createElementVNode"])("div",y,[x,Object(l["createElementVNode"])("div",C,[Object(l["createElementVNode"])("div",$,[Object(l["createElementVNode"])("div",T,[B,Object(l["withDirectives"])(Object(l["createElementVNode"])("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=function(e){return Oe.couponCode=e})},null,512),[[l["vModelText"],Oe.couponCode]]),Object(l["createElementVNode"])("a",{href:"#",class:"btn-black",onClick:t[1]||(t[1]=Object(l["withModifiers"])((function(){return je.useCoupon&&je.useCoupon.apply(je,arguments)}),["prevent"]))},"套用"),w])]),Object(l["createElementVNode"])("div",L,[Object(l["createElementVNode"])("div",null,[D,Object(l["createElementVNode"])("span",null,"NT$ "+Object(l["toDisplayString"])(e.$filters.currency(Oe.carts.total)),1)]),Object(l["createElementVNode"])("div",null,[S,Object(l["createElementVNode"])("span",_,"NT$ "+Object(l["toDisplayString"])(e.$filters.currency(Oe.carts.total-Oe.carts.final_total)),1)]),I,Object(l["createElementVNode"])("div",M,[U,Object(l["createElementVNode"])("span",null,"NT$ "+Object(l["toDisplayString"])(e.$filters.currency(Oe.carts.final_total)),1),Oe.carts.total!==Oe.carts.final_total?(Object(l["openBlock"])(),Object(l["createElementBlock"])("span",z,"(已套用優惠券)")):Object(l["createCommentVNode"])("",!0)])])])]),q,Object(l["createElementVNode"])("div",F,[Object(l["createElementVNode"])("div",P,[Object(l["createElementVNode"])("div",W,[Object(l["createElementVNode"])("div",J,[A,Object(l["createVNode"])(Ve,{name:"姓名",type:"text",class:Object(l["normalizeClass"])({"is-invalid":a["姓名"]}),placeholder:"請輸入收件者姓名",rules:"required",modelValue:Oe.form.user.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return Oe.form.user.name=e})},null,8,["class","modelValue"]),Object(l["createVNode"])(Ne,{name:"姓名",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",G,[H,Object(l["createVNode"])(Ve,{name:"聯絡電話",type:"tel",class:Object(l["normalizeClass"])({"is-invalid":a["聯絡電話"]}),placeholder:"請輸入聯絡電話",rules:je.isPhoneNumber,modelValue:Oe.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return Oe.form.user.tel=e})},null,8,["class","rules","modelValue"]),Object(l["createVNode"])(Ne,{name:"聯絡電話",class:"invalid-feedback"})])]),Object(l["createElementVNode"])("div",K,[Q,Object(l["createVNode"])(Ve,{name:"email",type:"email",class:Object(l["normalizeClass"])({"is-invalid":a["email"]}),placeholder:"請輸入Email",rules:"required|email",modelValue:Oe.form.user.email,"onUpdate:modelValue":t[4]||(t[4]=function(e){return Oe.form.user.email=e})},null,8,["class","modelValue"]),Object(l["createVNode"])(Ne,{name:"email",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",R,[X,Object(l["createVNode"])(Ve,{name:"地址",type:"text",class:Object(l["normalizeClass"])({"is-invalid":a["地址"]}),placeholder:"請輸入地址",rules:"required",modelValue:Oe.form.user.address,"onUpdate:modelValue":t[5]||(t[5]=function(e){return Oe.form.user.address=e})},null,8,["class","modelValue"]),Object(l["createVNode"])(Ne,{name:"地址",class:"invalid-feedback"})]),Object(l["createElementVNode"])("div",Y,[Z,Object(l["createElementVNode"])("div",null,[Object(l["withDirectives"])(Object(l["createElementVNode"])("textarea",{rows:"2","onUpdate:modelValue":t[6]||(t[6]=function(e){return Oe.form.message=e})},null,512),[[l["vModelText"],Oe.form.message]])])])])]),ee,Object(l["createElementVNode"])("div",te,[ce,le,ae,oe,ne,Object(l["createElementVNode"])("div",se,[Object(l["createVNode"])(Ve,{id:"formCheck",name:"check",type:"checkbox",class:Object(l["normalizeClass"])({"is-invalid":a["check"]}),value:"checked",rules:je.isChecked},null,8,["class","rules"]),re,Object(l["createVNode"])(Ne,{name:"check",class:"invalid-feedback"})])])])]),Object(l["createElementVNode"])("div",de,[Object(l["createElementVNode"])("div",ie,[Object(l["createVNode"])(he,{to:"/cart",class:"btn-pre-white"},{default:Object(l["withCtx"])((function(){return[ue]})),_:1}),Object(l["createElementVNode"])("div",null,[Object(l["createElementVNode"])("h3",null,[me,Object(l["createElementVNode"])("span",null,"NT$ "+Object(l["toDisplayString"])(e.$filters.currency(Oe.carts.final_total)),1)])]),be])])]})),_:1},8,["onSubmit"])])}var Oe=c("5530"),je=(c("99af"),c("ac1f"),c("00b4"),c("be92")),Ve=c("3690"),Ne={data:function(){return{carts:[],tempProduct:{},isLoading:!1,couponCode:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:Object(Oe["a"])(Object(Oe["a"])({},Object(je["c"])(Ve["a"],["pushMessage"])),{},{getCartList:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("hermosa","/cart");this.$http.get(t).then((function(t){t.data.success?(e.carts=t.data.data,e.isLoading=!1):(e.pushMessage(!1,"更新","發生錯誤，請重新整理"),e.isLoading=!1)}))},useCoupon:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io/","api/").concat("hermosa","/coupon"),c={code:this.couponCode};this.$http.post(t,{data:c}).then((function(t){e.couponCode="",t.data.success?(e.getCartList(),e.isLoading=!1,e.pushMessage(t.data.success,"套用優惠券",t.data.message)):(e.isLoading=!1,e.pushMessage(!1,"套用優惠券","套用優惠券失敗，請再試一次"))}))},isPhoneNumber:function(e){var t=/^(09)[0-9]{8}$/;return!!t.test(e)||"請輸入正確的電話號碼"},isChecked:function(e){return!(!e||!e.length)||"請勾選同意網站的條款與條件"},createOrder:function(){var e=this;this.isLoading=!0;var t=this.form;this.$http.post("".concat("https://vue3-course-api.hexschool.io/","api/").concat("hermosa","/order"),{data:t}).then((function(t){t.data.success?(e.isLoading=!1,e.$router.push({name:"checkout",params:{orderId:t.data.orderId}})):(e.isLoading=!1,e.pushMessage(!1,"更新","發生錯誤，請再試一次"))})).catch((function(){e.isLoading=!1,e.pushMessage(!1,"讀取","發生錯誤，請重新整理頁面")}))}}),created:function(){this.getCartList()}},he=c("6b0d"),Ee=c.n(he);const fe=Ee()(Ne,[["render",pe]]);t["default"]=fe}}]);
//# sourceMappingURL=chunk-2d0a49b0.68902396.js.map