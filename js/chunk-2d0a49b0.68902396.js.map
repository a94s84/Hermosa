{"version":3,"sources":["webpack:///./src/views/front/UserCheck.vue","webpack:///./src/views/front/UserCheck.vue?53d6"],"names":["class","_createElementVNode","for","type","value","_createElementBlock","_createVNode","_component_Form","onSubmit","$options","errors","_hoisted_3","_hoisted_5","_hoisted_6","_Fragment","_renderList","$data","carts","item","key","id","src","product","imageUrl","alt","title","_toDisplayString","_hoisted_11","_hoisted_13","qty","origin_price","price","_hoisted_15","_ctx","currency","_hoisted_19","_hoisted_21","final_total","_hoisted_23","_hoisted_27","$event","href","onClick","_hoisted_28","_hoisted_30","total","_hoisted_31","_hoisted_33","_hoisted_35","_hoisted_37","_hoisted_42","_component_Field","name","placeholder","rules","user","_component_ErrorMessage","_hoisted_44","tel","_hoisted_46","email","_hoisted_48","address","_hoisted_50","rows","message","_hoisted_51","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_59","_component_router_link","to","_hoisted_62","_hoisted_64","data","tempProduct","isLoading","couponCode","form","methods","mapActions","statusStore","getCartList","this","api","process","$http","get","then","res","success","pushMessage","useCoupon","url","coupon","code","post","isPhoneNumber","phoneNumber","test","isChecked","length","createOrder","order","$router","push","params","orderId","catch","created","__exports__","render"],"mappings":"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","file":"js/chunk-2d0a49b0.68902396.js","sourcesContent":["<template>\r\n  <div class=\"contentWrap\">\r\n    <Form v-slot=\"{ errors }\" @submit=\"createOrder\">\r\n      <div class=\"wrap cartWrap d-sp\">\r\n        <ul class=\"cart-menu\">\r\n          <li>購物清單</li>\r\n          <li class=\"active\">填寫資料</li>\r\n          <li>確認訂單</li>\r\n          <li>完成購物</li>\r\n        </ul>\r\n        <div class=\"shopWrap\">\r\n          <h2>填寫資料</h2>\r\n          <h3 class=\"shopTitle\">商品資訊</h3>\r\n          <div class=\"shop-orderlist\">\r\n            <div class=\"shopItem\" v-for=\"item in carts.carts\" :key=\"item.id\">\r\n              <div class=\"shopItem-img\">\r\n                <img :src=\"`${item.product.imageUrl}`\" :alt=\"item.product.title\" />\r\n              </div>\r\n              <div class=\"shopItem-name\">\r\n                <p>{{ item.product.title }}</p>\r\n              </div>\r\n              <div class=\"shopItem_size\">\r\n                <p>尺寸</p>\r\n                <span>F</span>\r\n              </div>\r\n              <div class=\"shopItem_qty\">\r\n                <p>數量</p>\r\n                <span>{{ item.qty }}</span>\r\n              </div>\r\n              <div\r\n                class=\"shopItem-price\"\r\n                v-if=\"item.product.origin_price !== item.product.price\"\r\n              >\r\n                <p>單價</p>\r\n                <span class=\"pdbox-price-origin\"\r\n                  >NT$ {{ $filters.currency(item.product.origin_price) }}</span\r\n                >\r\n                <span class=\"pdbox-price-sale\"\r\n                  >NT$ {{ $filters.currency(item.product.price) }}</span\r\n                >\r\n              </div>\r\n              <div class=\"shopItem-price\" v-else>\r\n                <p>單價</p>\r\n                <span>NT$ {{ $filters.currency(item.product.price) }}</span>\r\n              </div>\r\n              <div class=\"shopItem_total\">\r\n                <p>小計</p>\r\n                <span>NT$ {{ $filters.currency(item.final_total) }}</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 折扣碼 -->\r\n          <div class=\"shop-cost\">\r\n            <h3>折扣碼/購物總金額</h3>\r\n            <div class=\"shop-costbox\">\r\n              <div class=\"shop-discountbox\">\r\n                <div class=\"shop-discount-code\">\r\n                  <p>請輸入折扣碼：</p>\r\n                  <input type=\"text\" v-model=\"couponCode\" />\r\n                  <a href=\"#\" class=\"btn-black\" @click.prevent=\"useCoupon\"\r\n                    >套用</a\r\n                  >\r\n                  <div class=\"shop-note\">\r\n                    <p>單筆訂單限抵一張折價券。</p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"shop-count\">\r\n                <div>\r\n                  <p>小計</p>\r\n                  <span>NT$ {{ $filters.currency(carts.total) }}</span>\r\n                </div>\r\n                <div>\r\n                  <p>折扣折抵</p>\r\n                  <span class=\"shop-minus\"\r\n                    >NT$\r\n                    {{\r\n                      $filters.currency(carts.total - carts.final_total)\r\n                    }}</span\r\n                  >\r\n                </div>\r\n                <div>\r\n                  <p>運費</p>\r\n                  <span>NT$80</span>\r\n                </div>\r\n                <div class=\"shop-total\">\r\n                  <p>總計</p>\r\n                  <span>NT$ {{ $filters.currency(carts.final_total) }}</span>\r\n                  <span\r\n                    class=\"text-success\"\r\n                    v-if=\"carts.total !== carts.final_total\"\r\n                    >(已套用優惠券)</span\r\n                  >\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 收件人資料 -->\r\n          <h3 class=\"shopTitle\">填寫運送資料</h3>\r\n          <div class=\"shop-sendinfo\">\r\n            <div class=\"recipientBox\">\r\n              <div class=\"shopinfoBox d-sp\">\r\n                <div class=\"shopinfoBox-name\">\r\n                  <p>收件人姓名<sup>*</sup></p>\r\n                  <Field\r\n                    name=\"姓名\"\r\n                    type=\"text\"\r\n                    :class=\"{ 'is-invalid': errors['姓名'] }\"\r\n                    placeholder=\"請輸入收件者姓名\"\r\n                    rules=\"required\"\r\n                    v-model=\"form.user.name\"\r\n                  />\r\n                  <ErrorMessage name=\"姓名\" class=\"invalid-feedback\" />\r\n                </div>\r\n                <div class=\"shopinfoBox-tel\">\r\n                  <p>收件人電話<sup>*</sup></p>\r\n                  <Field\r\n                    name=\"聯絡電話\"\r\n                    type=\"tel\"\r\n                    :class=\"{ 'is-invalid': errors['聯絡電話'] }\"\r\n                    placeholder=\"請輸入聯絡電話\"\r\n                    :rules=\"isPhoneNumber\"\r\n                    v-model=\"form.user.tel\"\r\n                  />\r\n                  <ErrorMessage name=\"聯絡電話\" class=\"invalid-feedback\" />\r\n                </div>\r\n              </div>\r\n              <!-- email -->\r\n              <div class=\"shopinfoBox\">\r\n                <p class=\"font-N\">E-mail<sup>*</sup></p>\r\n                <Field\r\n                  name=\"email\"\r\n                  type=\"email\"\r\n                  :class=\"{ 'is-invalid': errors['email'] }\"\r\n                  placeholder=\"請輸入Email\"\r\n                  rules=\"required|email\"\r\n                  v-model=\"form.user.email\"\r\n                />\r\n                <ErrorMessage name=\"email\" class=\"invalid-feedback\" />\r\n              </div>\r\n              <!-- 地址 -->\r\n              <div class=\"shopinfoBox\">\r\n                <p>地址<sup>*</sup></p>\r\n                <Field\r\n                  name=\"地址\"\r\n                  type=\"text\"\r\n                  :class=\"{ 'is-invalid': errors['地址'] }\"\r\n                  placeholder=\"請輸入地址\"\r\n                  rules=\"required\"\r\n                  v-model=\"form.user.address\"\r\n                />\r\n                <ErrorMessage name=\"地址\" class=\"invalid-feedback\" />\r\n              </div>\r\n              <div class=\"shopinfoBox\">\r\n                <p>備註</p>\r\n                <div>\r\n                  <textarea rows=\"2\" v-model=\"form.message\"></textarea>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <!-- 注意事項 -->\r\n          <h3 class=\"shopTitle\">購物須知</h3>\r\n          <div class=\"cart-note\">\r\n            <p>\r\n              ※\r\n              商品加入購物車但未完成結帳前並無保留商品庫存功能，商品庫存分配將以結帳順序為依據。\r\n            </p>\r\n            <p>※ 選擇門市取貨付款，包裹送達後隔日下午會簡訊通知領取。</p>\r\n            <p>\r\n              ※\r\n              當包裹出貨完成未被領取或拒收退回(出貨後7日計算)，該訂購帳號若達三次將無法使用此配送方式。\r\n            </p>\r\n            <p>\r\n              ※\r\n              國內配送時間約2-3個工作天，若您遲遲未收到商品，請盡速與客服連絡。\r\n            </p>\r\n            <p>\r\n              ※\r\n              提醒您，若您無故或惡意違反制定訂購與退貨相關規則，本公司有權暫停您的帳號並拒絕您使用本服務，同時列為交易黑名單，請您留意。\r\n            </p>\r\n            <div class=\"form-check\">\r\n              <Field\r\n                id=\"formCheck\"\r\n                name=\"check\"\r\n                type=\"checkbox\"\r\n                :class=\"{ 'is-invalid': errors['check'] }\"\r\n                value=\"checked\"\r\n                :rules=\"isChecked\"\r\n              />\r\n              <label class=\"form-check-label ml-6\" for=\"formCheck\">\r\n                我已閱讀並同意網站的 條款與條件 <sup>*</sup></label\r\n              >\r\n              <ErrorMessage name=\"check\" class=\"invalid-feedback\" />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- footerfixed結帳金額 -->\r\n      <div class=\"footer-fixed\">\r\n        <div class=\"wrap d-sp\">\r\n          <router-link to=\"/cart\" class=\"btn-pre-white\">\r\n            <input type=\"button\" value=\"上一步\" />\r\n          </router-link>\r\n          <div>\r\n            <h3>\r\n              總計: <span>NT$ {{ $filters.currency(carts.final_total) }}</span>\r\n            </h3>\r\n          </div>\r\n          <div class=\"btn-next-white\">\r\n            <input type=\"submit\" value=\"下一步\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </Form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapActions } from 'pinia'\r\nimport statusStore from '@/stores/statusStore'\r\n\r\nexport default {\r\n  data () {\r\n    return {\r\n      carts: [],\r\n      tempProduct: {},\r\n      isLoading: false,\r\n      couponCode: '',\r\n      form: {\r\n        user: {\r\n          name: '',\r\n          email: '',\r\n          tel: '',\r\n          address: ''\r\n        },\r\n        message: ''\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapActions(statusStore, ['pushMessage']),\r\n    getCartList () {\r\n      this.isLoading = true\r\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\r\n      this.$http.get(api).then((res) => {\r\n        if (res.data.success) {\r\n          this.carts = res.data.data\r\n          this.isLoading = false\r\n        } else {\r\n          this.pushMessage(false, '更新', '發生錯誤，請重新整理')\r\n          this.isLoading = false\r\n        }\r\n      })\r\n    },\r\n    useCoupon () {\r\n      this.isLoading = true\r\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/coupon`\r\n      const coupon = {\r\n        code: this.couponCode\r\n      }\r\n      this.$http.post(url, { data: coupon }).then((res) => {\r\n        this.couponCode = ''\r\n        if (res.data.success) {\r\n          this.getCartList()\r\n          this.isLoading = false\r\n          this.pushMessage(res.data.success, '套用優惠券', res.data.message)\r\n        } else {\r\n          this.isLoading = false\r\n          this.pushMessage(false, '套用優惠券', '套用優惠券失敗，請再試一次')\r\n        }\r\n      })\r\n    },\r\n    isPhoneNumber (value) {\r\n      const phoneNumber = /^(09)[0-9]{8}$/\r\n      return phoneNumber.test(value) ? true : '請輸入正確的電話號碼'\r\n    },\r\n    isChecked (value) {\r\n      if (value && value.length) {\r\n        return true\r\n      }\r\n      return '請勾選同意網站的條款與條件'\r\n    },\r\n    createOrder () {\r\n      this.isLoading = true\r\n      const order = this.form\r\n      this.$http\r\n        .post(\r\n          `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order`,\r\n          { data: order }\r\n        )\r\n        .then((res) => {\r\n          if (res.data.success) {\r\n            this.isLoading = false\r\n            this.$router.push({\r\n              name: 'checkout',\r\n              params: { orderId: res.data.orderId }\r\n            })\r\n          } else {\r\n            this.isLoading = false\r\n            this.pushMessage(false, '更新', '發生錯誤，請再試一次')\r\n          }\r\n        })\r\n        .catch(() => {\r\n          this.isLoading = false\r\n          this.pushMessage(false, '讀取', '發生錯誤，請重新整理頁面')\r\n        })\r\n    }\r\n  },\r\n  created () {\r\n    this.getCartList()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./UserCheck.vue?vue&type=template&id=0885d281\"\nimport script from \"./UserCheck.vue?vue&type=script&lang=js\"\nexport * from \"./UserCheck.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Desktop\\\\Stacy\\\\VueProject\\\\hermosa\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}